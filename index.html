<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Loyalty Points Simulator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="page-header">
    <div class="page-header-inner">
      <h1>Loyalty Points Simulator</h1>
      <p class="tagline">
        Model how region, FX, and tier affect points earning and redemption value.
      </p>
    </div>
  </header>

      <p class="help-text">
        Choose a region, tier, and earn rate. Enter a transaction amount, then click
        <strong>Calculate Points</strong>.
      </p>

      <div class="field">
        <label for="region">Region</label>
        <select id="region" class="select">
          <option value="US" selected>United States (USD)</option>
          <option value="EU">Europe (EUR)</option>
          <option value="UK">United Kingdom (GBP)</option>
          <option value="JP">Japan (JPY)</option>
        </select>
      </div>

      <div class="field">
        <label for="tier">Tier</label>
        <select id="tier" class="select">
          <option value="Silver" selected>Silver (1.0x)</option>
          <option value="Gold">Gold (1.25x)</option>
          <option value="Platinum">Platinum (1.5x)</option>
        </select>
      </div>

      <div class="field">
        <label for="amount">Transaction Amount (local currency)</label>
        <input id="amount" type="number" min="0" step="0.01" placeholder="100.00" />
      </div>

      <div class="field">
        <label for="rate">Base Earn Rate (%)</label>
        <input id="rate" type="number" min="0" step="0.1" value="5" />
      </div>

      <div class="panel-footer">
        <button id="calculateBtn" class="btn btn-primary">Calculate Points</button>
        <span id="calc-status" class="parse-status" aria-live="polite"></span>
      </div>
    </section>

    <!-- RIGHT: SUMMARY PANEL -->
    <section class="panel panel-results">
      <div class="panel-header">
        <h2>Points Summary</h2>
      </div>

      <div id="summary" class="summary">
        <div class="summary-badge summary-badge-idle">
          No calculation yet.
        </div>
      </div>

      <div class="points-grid">
        <div class="points-card">
          <h3>FX &amp; Normalization</h3>
          <p id="fx-line" class="points-line muted">
            Choose a region and amount to see how spend is normalized to USD.
          </p>
        </div>

        <div class="points-card">
          <h3>Tier &amp; Earn Rate</h3>
          <p id="tier-line" class="points-line muted">
            Tier multipliers stack on top of the base earn rate.
          </p>
        </div>

        <div class="points-card">
          <h3>Points &amp; Liability</h3>
          <p id="points-line" class="points-line muted">
            Points earned represent a future redemption liability for the program.
          </p>
        </div>
      </div>

      <div class="flow-diagram">
        <h3>Points Event Flow</h3>
        <pre>
[Purchase Amount + Region + Tier]
                |
                v
        FX Conversion Layer
      (normalize to USD value)
                |
                v
        Tier &amp; Earn-Rate Engine
     (apply % earn + multipliers)
                |
                v
          Points Calculation
    (points = normalized_amount * rate)
                |
                v
     Redemption Value Estimation
(points * point_value_in_usd = liability)
        </pre>
      </div>

      <div class="raw-output">
        <h3>Detailed Calculation</h3>
        <pre id="raw-output">No calculation yet.</pre>
      </div>
    </section>
  </main>

  <footer class="page-footer">
    <p>
      Part of the
      <a href="https://github.com/rtfenter/loyalty-series" target="_blank" rel="noreferrer">
        Loyalty Systems Series
      </a>.
    </p>
  </footer>

  <script src="app.js"></script>
</body>
</html>
